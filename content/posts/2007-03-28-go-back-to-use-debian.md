status: published
comments: true
date: 2007-03-28 23:43:29
layout: post
slug: go-back-to-use-debian
title: 回归Debian的怀抱
wordpress_id: 204
category: Linux
tags: debian, linux, apt, mirror

用来用去,还是觉得debian最亲切,最自然.
虽然ubuntu有多般的好处,但是似乎跟我想要的linux差的很多.

装回debian,用它作宿主系统,研究一下lfs.

从昨天开始装debian,但是苦于没有合适的源,
直到今天也没升级完毕.真是郁闷死我了.

昨天用cn99跟geekbone,apt-get update了好久好久.
查了一下它俩的ip,竟然在电信线路上,怪不得只有10KB/s左右的速度.

今天被cn99逼的没有办法,试了下教育网的源,仍然是10KB/s.
实在没辙了,google了一下,找到了
[台湾大学的debian镜像](http://debian.csie.ntu.edu.tw/)
,速度竟然能达到150KB/s,轻松的完成了upgrade.实在是太赞了.

google的时候
[在linuxsir上发现了一个小tip](http://www.linuxsir.org/bbs/showthread.php?t=218212)
,就是apt-spy.这个小东西可以自动测试一个地区的源的速度,
然后自动生成一个sources.list.真是一个很好用的小东东.

这个apt-spy不是默认安装的,所以要先找到一个源来安装它.

```
# apt-get install apt-spy
# mv sources.list sources.list.bak //backup
# man apt-spy  //获取详细的使用方法
# apt-spy update //更新您的镜像列表文件 /var/lib/apt-spy/mirrors.txt
# apt-spy -d testing  -a Asia
//在亚洲区寻找速度最快的testing版镜像,并生成 sources.list文件,
//也可使用 -o 参数指定写入文件
```

正如
[linuxsir那篇文章](http://www.linuxsir.org/bbs/showthread.php?t=218212)
所说,这个过程十分的漫长(在我写这篇日志的时候,这个过程还在继续),
但是确实是一劳永逸的.
只要不更换网络接入方式,它生成的sources.list就可以一直用下去.

**update:** apt-spy测试了半个小时以后,终于找到了http://opensource.nchc.org.tw/debian 这个站点,能达到200多KB/s的速度.

最后生成的sources.list如下

```
# sources.list generated by apt-spy v3.1
deb ftp://opensource.nchc.org.tw/debian/ testing main
deb-src ftp://opensource.nchc.org.tw/debian/ testing main
#deb http://security.debian.org/ stable/updates main
```

去opensource.nchc.org.tw看了一下,他提供如下镜像,按照下面重新修改一下apt-spy生成的源,然后就尽情的enjoy吧. 


**Debian**

[參考 /etc/apt/sources.list 設定](http://opensource.nchc.org.tw/sources.list.html)

```
deb http://opensource.nchc.org.tw/debian [stable|testing|unstable] main contrib non-free
deb http://opensource.nchc.org.tw/debian-non-US [stable|testing|unstable]/non-US main contrib non-free
deb http://opensource.nchc.org.tw/debian-security stable/updates main contrib non-free
```

**Unofficial APT**

  * KDE
```
deb http://opensource.nchc.org.tw/apt/kde/3.1 woody main
```

  * [I Pv 6](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/IPv6?action=edit)
    [?](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/IPv6?action=edit)
```
deb http://opensource.nchc.org.tw/apt/ipv6 [stable|testing|unstable]/ipv6 ./<br></br>
```

  * [X Free 86](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/XFree86?action=edit)
    [?](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/XFree86?action=edit) 4.3
```
deb http://opensource.nchc.org.tw/apt/xfree86-4.3/woody ./
```

  * ALSA
```
deb http://opensource.nchc.org.tw/apt/alsa woody sherpya<br></br>
```

  * [O Oo](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/OOo?action=edit)
    [?](http://free.nchc.org.tw/pmwiki/pmwiki.php/Main/OOo?action=edit) Woody backport
```
deb http://opensource.nchc.org.tw/apt/OOo [stable|unstable] main contrib
```

  * [Real Player](http://free.nchc.org.tw/pmwiki/pmwiki.php/MPlayer/RealPlayer?action=edit)
    [?](http://free.nchc.org.tw/pmwiki/pmwiki.php/MPlayer/RealPlayer?action=edit)
```
deb http://opensource.nchc.org.tw/apt/marillat [stable|testing|unstable] main<br></br>
```

  * DRBL
```
deb http://opensource.nchc.org.tw/apt/drbl stable main contrib<br></br>
```
